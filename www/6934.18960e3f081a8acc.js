"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6934],{6934:(y,p,s)=>{s.r(p),s.d(p,{LoginPageModule:()=>_});var m=s(4755),a=s(650),d=s(237),v=s(5861);class c{constructor(o,n,t){this.email="",this.password="",this.type="",this.email=o,this.password=n,this.type=t}static validateRequired(o,n){let t={message:"",status:!0,class:"hidden"};return 0==o.length&&(t.message=`El campo ${n} es requerido`,t.status=!1,t.class=""),t}static validateEmail(o){let t={message:"",status:!0,class:"hidden"};return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(o)?(t.message="El correo electr\xf3nico es v\xe1lido",t.status=!0,t.class="hidden"):(t.status=!1,t.message="El correo electr\xf3nico no es v\xe1lido",t.class=""),t}static validate(o){let t={message:"",status:!0,class:"hidden"};return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(o)?(t.message="El correo electr\xf3nico es v\xe1lido",t.status=!0,t.class="hidden"):(t.status=!1,t.message="El correo electr\xf3nico no es v\xe1lido",t.class=""),t}static htmlError(o){return"hidden"}}var e=s(3020),u=s(3144);let h=(()=>{class i{constructor(n){this.http=n,this.apiUrl="https://happyparking.keyoficiales.com"}login(n,t,r){const Z={idTipoUsuario:r,correo:n,clave:t,idRol:Number(r)},C=new u.WM({"Content-Type":"application/json"});return this.http.post("/api/Usuario/ValidaSesion",JSON.stringify(Z),{headers:C})}}return i.\u0275fac=function(n){return new(n||i)(e.LFG(u.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var l=s(5030);const f=function(){return["/sign-up"]},M=[{path:"",component:(()=>{class i{constructor(n){this.userService=n,this.email="",this.password="",this.type="",this.validateEmail={status:!0,message:"",class:"hidden"},this.validatePassword={status:!0,message:"",class:"hidden"},this.validateTypeUser={status:!0,message:"",class:"hidden"},this.validateResponseService={status:!0,message:"",class:"hidden"}}ngOnInit(){}onSubmit(){var n=this;return(0,v.Z)(function*(){console.log("event: ",n),n.validateEmail=c.validateEmail(n.email),n.validateEmail.status&&(n.validateEmail=c.validateRequired(n.email,"email"),n.validatePassword=c.validateRequired(n.password,"password"),n.validateTypeUser=c.validateRequired(n.type,"tipo usuario"),n.validateEmail.status&&n.validatePassword.status&&n.validateTypeUser.status&&n.userService.login(n.email,n.password,Number(n.type)).subscribe(t=>{n.validateResponseService.message=t.retorno.mensaje,t.retorno.idError&&(n.validateResponseService.status=!1,n.validateResponseService.class="")},t=>{n.validateResponseService.message=t.retorno.mensaje,n.validateResponseService.status=!1,n.validateResponseService.class=""}))})()}facebookSignIn(){}googleSignIn(){}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-login"]],decls:47,vars:21,consts:[[1,"sign-in-content"],[1,"auth-title"],["action","#"],["lines","full",1,"inputs-list"],[1,"input-item"],["name","email","type","email","placeholder","Email","autocapitalize","off",3,"ngModel","ngModelChange"],[1,"error-message"],["name","information-circle-outline"],["name","password","type","password","placeholder","Password",3,"ngModel","ngModelChange"],["name","type","label","Tipo de Usuario","placeholder","Seleccione",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["type","submit","expand","block",1,"sign-in-btn",3,"click"],[1,"sign-up-btn-wrapper"],["fill","clear",1,"sign-up-btn",3,"routerLink"],[1,"social-auth-options"],[1,"options-divider"],["color","primary","expand","block",1,"social-auth-btn",3,"click"],["color","danger","expand","block",1,"social-auth-btn","google-auth-btn",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-content",0)(1,"h2",1),e._uU(2," Login "),e.qZA(),e.TgZ(3,"form",2)(4,"ion-list",3)(5,"ion-item",4)(6,"ion-input",5),e.NdJ("ngModelChange",function(g){return t.email=g}),e.qZA()(),e.TgZ(7,"div")(8,"div",6),e._UZ(9,"ion-icon",7),e.TgZ(10,"span"),e._uU(11),e.qZA()()(),e.TgZ(12,"ion-item",4)(13,"ion-input",8),e.NdJ("ngModelChange",function(g){return t.password=g}),e.qZA()(),e.TgZ(14,"div")(15,"div",6),e._UZ(16,"ion-icon",7),e.TgZ(17,"span"),e._uU(18),e.qZA()()(),e.TgZ(19,"ion-item")(20,"ion-select",9),e.NdJ("ngModelChange",function(g){return t.type=g}),e.TgZ(21,"ion-select-option",10),e._uU(22,"Arrendador"),e.qZA(),e.TgZ(23,"ion-select-option",11),e._uU(24,"Arrendatario"),e.qZA()()(),e.TgZ(25,"div")(26,"div",6),e._UZ(27,"ion-icon",7),e.TgZ(28,"span"),e._uU(29),e.qZA()()()(),e.TgZ(30,"ion-button",12),e.NdJ("click",function(){return t.onSubmit()}),e._uU(31,"Ingresar"),e.qZA(),e.TgZ(32,"div")(33,"div",6),e._UZ(34,"ion-icon",7),e.TgZ(35,"span"),e._uU(36),e.qZA()()()(),e.TgZ(37,"ion-row",13)(38,"ion-button",14),e._uU(39," Don't have an account? "),e.qZA()(),e.TgZ(40,"div",15)(41,"p",16),e._uU(42,"Or"),e.qZA(),e.TgZ(43,"ion-button",17),e.NdJ("click",function(){return t.facebookSignIn()}),e._uU(44,"Facebook Sign In"),e.qZA(),e.TgZ(45,"ion-button",18),e.NdJ("click",function(){return t.googleSignIn()}),e._uU(46,"Google Sign In"),e.qZA()()()),2&n&&(e.xp6(6),e.Q6J("ngModel",t.email),e.xp6(1),e.Gre("error-container ",t.validateEmail.class,""),e.xp6(4),e.Oqu(t.validateEmail.message),e.xp6(2),e.Q6J("ngModel",t.password),e.xp6(1),e.Gre("error-container ",t.validatePassword.class,""),e.xp6(4),e.Oqu(t.validatePassword.message),e.xp6(2),e.Q6J("ngModel",t.type),e.xp6(5),e.Gre("error-container ",t.validateTypeUser.class,""),e.xp6(4),e.Oqu(t.validateTypeUser.message),e.xp6(3),e.Gre("error-container ",t.validateResponseService.class,""),e.xp6(4),e.Oqu(t.validateResponseService.message),e.xp6(2),e.Q6J("routerLink",e.DdM(20,f)))},dependencies:[a.YG,a.W2,a.gu,a.pK,a.Ie,a.q_,a.Nd,a.t9,a.n0,a.QI,a.j9,a.YI,l._Y,l.JJ,l.JL,l.On,l.F,d.rH],styles:[".sign-in-content[_ngcontent-%COMP%]{text-align:center;--padding-bottom: 16px;--padding-end: 16px;--padding-start: 16px;--padding-top: 16px}.sign-in-content[_ngcontent-%COMP%]   .auth-title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:64px;letter-spacing:.6px}.sign-in-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .options-divider[_ngcontent-%COMP%]{text-align:center}.sign-in-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{--padding-start: 0px;--padding-end: 0px;--inner-padding-end: 0px}.sign-in-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin:16px 0;display:flex;align-items:center;color:var(--ion-color-danger);font-size:14px}.sign-in-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;padding-inline-end:8px}.sign-in-content[_ngcontent-%COMP%]   .sign-in-btn[_ngcontent-%COMP%]{margin:16px 0}.sign-in-content[_ngcontent-%COMP%]   .sign-up-btn-wrapper[_ngcontent-%COMP%]{justify-content:flex-end;align-items:center}.sign-in-content[_ngcontent-%COMP%]   .sign-up-btn-wrapper[_ngcontent-%COMP%]   .sign-up-btn[_ngcontent-%COMP%]{--padding-end: 0px}.hidden[_ngcontent-%COMP%]{display:none}"]}),i})()}];let P=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.Bz.forChild(M),d.Bz]}),i})(),_=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.ez,a.Pc,l.u5,P,l.UX]}),i})()}}]);